$(document).ready(function(e){$(document).on('click',"#checkdomian",function(e){e.preventDefault();var search=$("#check_search").val();var tld=$("#check_tld").val();var condition_name=$(this).data('condition-name');var token=csrf_token;$(".loader_bg").show();if(product_id){$.ajax({type:"POST",url:addon_del,data:{product_id:product_id,condition_name:condition_name,_token:token},success:function(data){location.reload();$(".loader_bg").hide();console.log(data);var obj=JSON.parse(data);if(obj.status){$('span.cart_items').html(obj.items);if(obj.items>0){$('span.cart_items').css('opacity',1);}else{$('span.cart_items').css('opacity',0);}
success_alert(obj.message,true);}else{error_alert(obj.message);}},error:function(data){$(".bg").fadeOut('slow');console.log('Error:',data);var obj=JSON.parse(data);error_alert(obj.message);}});}});$(document).on('click',".addon_add_no",function(e){e.preventDefault();var product_id=$(this).data('product-id');var condition_name=$(this).data('addon-name');var addon_id=$(this).data('addon-id');var token=csrf_token;$(".loader_bg").show();if(product_id){$.ajax({type:"POST",url:addon_del,data:{product_id:product_id,condition_name:condition_name,addon_id:addon_id,_token:token},success:function(data){$(".loader_bg").hide();$("#addon-"+addon_id).removeClass("addon_add_no");$("#addon-"+addon_id).addClass("addon_add");$("#addon-"+addon_id).prop("checked",false);var rep=JSON.parse(data);if(rep.html=='0'){window.location=APP_URL;}
$("#summary").empty();$("#summary").append(rep.html);console.log(data);var obj=JSON.parse(data);if(obj.status){$('span.cart_items').html(obj.items);if(obj.items>0){$('span.cart_items').css('opacity',1);}else{$('span.cart_items').css('opacity',0);}
success_alert(obj.message,true);}else{error_alert(obj.message);}},error:function(data){$(".bg").fadeOut('slow');console.log('Error:',data);var obj=JSON.parse(data);error_alert(obj.message);}});}});$(document).on('click',".addon_add",function(e){e.preventDefault();var product_id=$(this).data('product-id');var addon_id=$(this).data('addon-id');var addon_name=$(this).data('addon-name');var addon_price=$(this).data('addon-price');var package_quantitiy=$(this).data('package_quantitiy');var package_normal_price=$(this).data('package_normal_price');var package_name=$(this).data('package_name');var token=csrf_token;$(".loader_bg").show();if(product_id){$.ajax({type:"POST",url:addon_to_cart,data:{product_id:product_id,addon_id:addon_id,addon_price:addon_price,addon_name:addon_name,package_quantitiy:package_quantitiy,package_normal_price:package_normal_price,package_name:package_name,_token:token},success:function(data){$(".loader_bg").hide();$("#addon-"+addon_id).removeClass("addon_add");$("#addon-"+addon_id).addClass("addon_add_no");$("#addon-"+addon_id).prop("checked",true);var rep=JSON.parse(data);$("#summary").empty();$("#summary").append(rep.html);console.log(data);var obj=JSON.parse(data);if(obj.status){$('span.cart_items').html(obj.items);if(obj.items>0){$('span.cart_items').css('opacity',1);}else{$('span.cart_items').css('opacity',0);}
success_alert(obj.message,true);}else{error_alert(obj.message);}},error:function(data){$(".bg").fadeOut('slow');console.log('Error:',data);var obj=JSON.parse(data);error_alert(obj.message);}});}});$(document).on('click',".remove",function(e){e.preventDefault();var product_id=$(this).data('product-id');var token=csrf_token;$(".loader_bg").show();if(product_id){$.ajax({type:"POST",url:remove_from_cart,data:{product_id:product_id,_token:token},success:function(data){$(".loader_bg").hide();var rep=JSON.parse(data);if(rep.html=='0'){location.reload();}
$("#summary").empty();$("#summary").append(rep.html);$("#circle_count_id").empty();$("#circle_count_id").append(rep.html2);console.log(data);var obj=JSON.parse(data);if(obj.status){$('span.cart_items').html(obj.items);if(obj.items>0){$('span.cart_items').css('opacity',1);}else{$('span.cart_items').css('opacity',0);}
success_alert(obj.message,true);}else{error_alert(obj.message);}},error:function(data){$(".bg").fadeOut('slow');console.log('Error:',data);var obj=JSON.parse(data);error_alert(obj.message);}});}});$(document).on('change',"#billingcycle",function(e){e.preventDefault();var quantity=$(this).val();var token=csrf_token;$(".loader_bg").show();if(quantity){$.ajax({type:"POST",url:update_qty_cart,data:{quantity:quantity,_token:token},success:function(data){$(".loader_bg").hide();var rep=JSON.parse(data);if(rep.htmll=='0'){window.location=APP_URL;}
$("#summary").empty();$("#summary").append(rep.htmll);console.log(rep.htmll);var obj=JSON.parse(data);},error:function(data){$(".bg").fadeOut('slow');console.log('Error:',data);var obj=JSON.parse(data);error_alert(obj.message);}});}});$(document).on('change',"#dbillingcycle",function(e){e.preventDefault();var quantity=$(this).val();var token=csrf_token;$(".loader_bg").show();if(quantity){$.ajax({type:"POST",url:update_qty_dcart,data:{quantity:quantity,_token:token},success:function(data){$(".loader_bg").hide();var rep=JSON.parse(data);if(rep.html=='0'){window.location=APP_URL;}
$("#summary").empty();$("#summary").append(rep.html);console.log(data);var obj=JSON.parse(data);if(obj.status){$('span.cart_items').html(obj.items);if(obj.items>0){$('span.cart_items').css('opacity',1);}else{$('span.cart_items').css('opacity',0);}
success_alert(obj.message,true);}else{error_alert(obj.message);}},error:function(data){$(".bg").fadeOut('slow');console.log('Error:',data);var obj=JSON.parse(data);error_alert(obj.message);}});}});$(document).on('click',"input[name=shipping_method]",function(e){var method_id=$(this).val();var token=csrf_token;if($(this).is(':checked')){$('input[name=shipping_method]').removeAttr('checked');$(this).attr('checked','checked').prop('checked',true);}
if(method_id){$(".bg").show();$.ajax({type:"POST",url:shipping_method,data:{method_id:method_id,_token:token},success:function(data){$(".bg").fadeOut('slow');console.log(data);var obj=JSON.parse(data);if(obj.status){$('div.cart_total').html(obj.html);}else{}},error:function(data){$(".bg").fadeOut('slow');console.log('Error:',data);var obj=JSON.parse(data);error_alert(obj.message);}});}});$(document).on('click',".shipping_form_submit",function(e){var method_id=$('input[name=shipping_method]:checked').val();if(!method_id){error_alert('Please select shipping method.')}else{$('form.shipping_form').submit();}});});